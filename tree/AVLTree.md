# AVLTree的旋转方式
## 左单旋
![左单旋](./pic/%E5%B7%A6%E5%8D%95%E6%97%8B%E5%8E%9F%E6%A0%91.png)
如图，a,b本身为AVL树，此时要插入一个节点c到b的右子树，插入之后b的平衡因子变为1，a的平衡因子变为2，不满足平衡条件，所以需要对a进行左旋处理
左旋就是让a的右孩子节点更新为b的左孩子节点，然后让b节点的左孩子更新为a节点，这样树达到平衡，左旋过后，a,b节点的平衡因子都为0
![左单旋后](./pic/%E5%B7%A6%E5%8D%95%E6%97%8B%E5%B9%B3%E8%A1%A1.png)
## 右单旋
![右单旋](./pic/%E5%8F%B3%E5%8D%95%E6%97%8B%E5%8E%9F%E6%A0%91.png)
如图，a,b,本身为AVL树，此时插入一个节点c到b的左节点，此时b的平衡因子为-1，a的平衡因子为-2，不平衡，需要进行右旋处理
右旋就是让a节点的左孩子更新为b的右孩子，然后让b的右孩子节点更新为a节点，这样树重新平衡，a,b平衡因子都为0
![右单旋后](./pic/%E5%8F%B3%E5%8D%95%E6%97%8B%E5%B9%B3%E8%A1%A1.png)
## 右左双旋
![右左双旋](./pic/%E5%8F%B3%E5%B7%A6%E5%8F%8C%E6%97%8B%E5%8E%9F%E6%A0%91.png)
有图中的三种情况需要先对b节点进行右旋，再对a节点进行左旋，称为右左双旋
可以看到，三种情况对于c节点和e节点都不会有影响，只会对a节点或者b节点有影响。因此，在旋转之前（左旋和右旋都会更改平衡因子）我们可以先保存c节点的平衡因子，通过c节点的平衡因子属于哪种情况，进而更改平衡因子。
若c节点的平衡因子为0，则对应第一种情况；
若c节点的平衡因子为-1，则对应第二种情况；
若c节点的平衡因子为1，则对应第三种情况。
![右左双旋后](./pic/%E5%8F%B3%E5%B7%A6%E5%8F%8C%E6%97%8B%E5%B9%B3%E8%A1%A1%E4%B8%89%E7%A7%8D%E6%83%85%E5%86%B5.png)
## 左右双旋
![左右双旋](./pic/%E5%B7%A6%E5%8F%B3%E5%8F%8C%E9%80%89%E5%8E%9F%E6%A0%91.png)
同理，左右双旋也有三种情况。有图中的三种情况需要先对b节点进行左旋，再对a节点进行右旋，称为左右双旋
这三种情况都对应先左旋在右旋的情况，旋转之后的平衡因子也需要分类讨论。
可以看到，同样的，三种情况都不会影响到c节点和e节点的平衡因子，只会影响a节点和b节点的平衡因子。处理方法一一样，旋转之前先保存c节点的平衡因子，旋转后根据平衡因子来判断属于哪一种情况。
平衡因子为0：对应第一种情况；
平衡因子为-1：对应第二种情况；
平衡因子为1：对应第三种情况。
![左右双旋后](./pic/%E5%B7%A6%E5%8F%B3%E5%8F%8C%E6%97%8B%E5%B9%B3%E8%A1%A1%E4%B8%89%E7%A7%8D%E6%83%85%E5%86%B5.png)